<script async src="https://cdn.ampproject.org/amp-story-player-v0.js"></script>
<link href="https://cdn.ampproject.org/amp-story-player-v0.css" rel="stylesheet" type="text/css">

<style>
.lightbox{
    display: none;
}
.entry-points {
  display: flex;
  overflow-y: scroll;
  padding-right: 36px;
  padding-left: 36px;
}
.entry-points::-webkit-scrollbar{
    width: 0px;
}

.entry-point-card-container {
  flex-shrink: 0;
  cursor: pointer;
  position: relative;
  margin-right: 24px;
  width: 240px;
  height: 400px;
  opacity: 1;
  transform: scale(1);
  visibility: visible;
  transition: opacity 0.33s, transform 0.33s, visibility 0.33s;
}
.entry-point-card-container:after {
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.0001) 49.88%,
    rgba(0, 0, 0, 0.9) 100%
  );
  height: 100%;
  width: 100%;
  position: absolute;
  border-radius: 16px;
  content: "";
}
.entry-point-card-img {
  object-fit: cover;
  width: 100%;
  height: 100%;
  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.2);
  border-radius: 16px;
}
.author-container {
  position: absolute;
  display: flex;
  align-items: center;
  top: 24px;
  left: 24px;
}
.card-headline-container {
  position: absolute;
  bottom: 2px;
  text-align: left;
  padding: 24px;
  z-index: 1;
}
.entry-point-card-headline {
  color: #fff;
  font-weight: 700;
  font-family: "Poppins", sans-serif;
  text-transform: uppercase;
  font-size: 24px;
  line-height: 26px;
}
.entry-point-card-subtitle {
  color: #fff;
  font-weight: 700;
  font-family: "Noto Sans", sans-serif;
  text-transform: uppercase;
  font-size: 11px;
  line-height: 15px;
}
.logo-container {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 38px;
  height: 38px;
  position: relative;
  margin-right: 10px;
}
.logo-ring {
  width: 46px;
  height: 46px;
  background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 220 220' width='100%25' height='100%25' preserveAspectRatio='none'><defs><linearGradient id='gradient'><stop offset='0' style='stop-color:%232BAC95' /><stop offset='1' style='stop-color:%236EB6F9' /></linearGradient></defs><ellipse ry='100' rx='100' cy='110' cx='110' style='fill:none;stroke:url(%23gradient);stroke-width:6;' /></svg>");
  border-radius: 100%;
  position: absolute;
}
.entry-point-card-logo {
  border-radius: 100%;
  width: 38px;
  height: 38px;
  filter: drop-shadow(0px 0px 20px rgba(255, 255, 255, 0.25));
}
</style>

<!-- carousel -->
<div class="entry-points">

    <div onclick="story_play('https://wp.stories.google/stories/a-taste-of-new-york-pizza-history/')" class="entry-point-card-container">
        <img src="https://assets.codepen.io/1780597/pizza.jpg" class="entry-point-card-img" alt="A cat">
        <div class="author-container">
            <div class="logo-container">
            <div class="logo-ring"></div>
            <img class="entry-point-card-logo" src="https://assets.codepen.io/1780597/1pizza_logo.png" alt="Publisher logo">
            </div>
            <span class="entry-point-card-subtitle"> By John Wilson </span>
        </div>

        <div class="card-headline-container">
            <span class="entry-point-card-headline"> A Taste Of New York Pizza History </span>
        </div>
    </div>

    <div onclick="story_play('https://wp.stories.google/stories/a-day-in-the-life-of-dap-the-contract/');" class="entry-point-card-container">
        <img src="https://assets.codepen.io/1780597/music.jpg" class="entry-point-card-img" alt="A man singing">
        <div class="author-container">
            <div class="logo-container">
            <div class="logo-ring"></div>
            <img class="entry-point-card-logo" src="https://assets.codepen.io/1780597/3logo.png" alt="Publisher logo">
            </div>
            <span class="entry-point-card-subtitle"> By Jane Cooper </span>
        </div>

        <div class="card-headline-container">
            <span class="entry-point-card-headline"> A day-long musical journey </span>
        </div>
    </div>

    <div onclick="story_play('https://wsdemos.uc.r.appspot.com/homewarrior');" class="entry-point-card-container">
        <img src="https://assets.codepen.io/1780597/homewarrior.jpg" class="entry-point-card-img" alt="A cartoon wearing a mask">
        <div class="author-container">
            <div class="logo-container">
            <div class="logo-ring"></div>
            <img class="entry-point-card-logo" src="https://assets.codepen.io/1780597/2logo.png" alt="Publisher logo">
            </div>
            <span class="entry-point-card-subtitle"> By Sean Dong </span>
        </div>

        <div class="card-headline-container">
            <span class="entry-point-card-headline"> Home Warrior Pandemic Special </span>
        </div>
    </div>

    <div onclick="story_play('https://wsdemos.uc.r.appspot.com/kitchen');" class="entry-point-card-container">
        <img src="https://assets.codepen.io/1780597/chicken.jpg" class="entry-point-card-img" alt="A plate of chicken and veggies">
        <div class="author-container">
            <div class="logo-container">
            <div class="logo-ring"></div>
            <img class="entry-point-card-logo" src="https://assets.codepen.io/1780597/4logo.png" alt="Publisher logo">
            </div>
            <span class="entry-point-card-subtitle"> By Jamie Leach </span>
        </div>

        <div class="card-headline-container">
            <span class="entry-point-card-headline"> Crispy Chicken Thigh With Vegetables </span>
        </div>
    </div>

    <div onclick="story_play('https://wsdemos.uc.r.appspot.com/art-quiz');" class="entry-point-card-container">
        <img src="https://assets.codepen.io/1780597/artquiz.jpg" class="entry-point-card-img" alt="A collage of artists">
        <div class="author-container">
            <div class="logo-container">
            <div class="logo-ring"></div>
            <img class="entry-point-card-logo" src="https://assets.codepen.io/1780597/5logo.png" alt="Publisher logo">
            </div>
            <span class="entry-point-card-subtitle"> By Hong Wei </span>
        </div>

        <div class="card-headline-container">
            <span class="entry-point-card-headline"> The Ultimate Art Quiz </span>
        </div>
    </div>

    <div onclick="story_play('https://wp.stories.google/stories/a-guide-to-shaping-clay/');" class="entry-point-card-container">
        <img src="https://assets.codepen.io/1780597/clay.jpg" class="entry-point-card-img" alt="Cartoon animals">
        <div class="author-container">
            <div class="logo-container">
            <div class="logo-ring"></div>
            <img class="entry-point-card-logo" src="https://assets.codepen.io/1780597/6logo.png" alt="Publisher logo">
            </div>
            <span class="entry-point-card-subtitle"> By Jenny Wilson </span>
        </div>

        <div class="card-headline-container">
            <span class="entry-point-card-headline"> A guide to shaping clay </span>
        </div>
    </div>

    <div onclick="story_play('https://wsdemos.uc.r.appspot.com/animal-poll');" class="entry-point-card-container">
        <img src="https://assets.codepen.io/1780597/animalpoll.jpg" class="entry-point-card-img" alt="Cartoon animals">
        <div class="author-container">
            <div class="logo-container">
            <div class="logo-ring"></div>
            <img class="entry-point-card-logo" src="https://assets.codepen.io/1780597/5logo.png" alt="Publisher logo">
            </div>
            <span class="entry-point-card-subtitle"> By Hong Wei </span>
        </div>

        <div class="card-headline-container">
            <span class="entry-point-card-headline"> What Animal are you? </span>
        </div>
    </div>

</div>

<!-- Lightbox and player -->
<div class="lightbox">
<amp-story-player class="my-player">
    <script type="application/json">
    {
        "behavior": {
        "pageScroll": false,
        "autoplay": false
        },
        "controls": [{
            "name": "close",
            "position": "start"
        },
        {
            "name": "skip-to-next"
        }
        ]
    }
    </script>
    <a href="https://wp.stories.google/stories/a-taste-of-new-york-pizza-history/"></a>
    <a href="https://wp.stories.google/stories/a-day-in-the-life-of-dap-the-contract/"></a>
    <a href="https://wsdemos.uc.r.appspot.com/homewarrior"></a>
    <a href="https://wsdemos.uc.r.appspot.com/kitchen"></a>
    <a href="https://wsdemos.uc.r.appspot.com/art-quiz"></a>
    <a href="https://wp.stories.google/stories/a-guide-to-shaping-clay/"></a>
    <a href="https://wsdemos.uc.r.appspot.com/animal-poll"></a>

</amp-story-player>
</div>

<script>

const player = document.querySelector('amp-story-player');
let story = document.querySelector(".lightbox");

function story_play(index){
    console.clear();
    console.log(index);
    story.style.display = "block";
    story.style.position = "fixed";
    story.style.height = "100vh";
    story.style.width = "100vw";
    story.style.top = "0px";
    story.style.left = "0px";
    //player.go(index, 0);
    player.rewind(index);
    player.show(index);
    player.play();
    player.unmute();
}
player.addEventListener('amp-story-player-close', () => {
    player.pause();
    player.mute();
    story.style.display = "none";
})
player.addEventListener('noNextStory', (event) => {
  console.log('User is tapping on the last page and there are no more stories.');
});
player.addEventListener('noPreviousStory', () => {
  console.log('User is tapping back on the first page and there are no more stories.');
});

</script>